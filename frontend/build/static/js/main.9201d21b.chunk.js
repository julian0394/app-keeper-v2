(this["webpackJsonpkeeper-app-part-1-starting"]=this["webpackJsonpkeeper-app-part-1-starting"]||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,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"},38:function(e,t,a){e.exports=a.p+"static/media/doge-icon.5ceac361.png"},39:function(e,t,a){e.exports=a.p+"static/media/doge-img.72487465.png"},44:function(e,t,a){e.exports=a(75)},56:function(e,t,a){e.exports=a.p+"static/media/icono-error.999be554.png"},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(15),c=a.n(o),s=a(2),i=a.n(s),l=a(5),u=a(4),A=a(7),m=a(8),p=a(13),g=a.n(p),d=a(38),b=a.n(d),E=a(39),v=a.n(E),N=a(91);var f=e=>{const t=Object(r.useState)(0),a=Object(u.a)(t,2),o=a[0],c=a[1],s=()=>{c(0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"zona-header"},n.a.createElement("header",null,n.a.createElement("div",{className:"zona-titulo"},n.a.createElement("img",{className:"logoo",src:b.a,alt:"Doge",onClick:()=>{o<5?c(o+1):s()},title:"Y esto..? Easter egg?!"}),n.a.createElement("h1",{className:"no-seleccionable"},"Doge Notes")),("notas"===e.ruta||"perfil"===e.ruta)&&n.a.createElement("div",{className:"usuario-header menu"},n.a.createElement("div",{className:"tooltip"},n.a.createElement("img",{className:"foto-usuario no-seleccionable",onClick:()=>{e.cambioRuta("perfil")},src:null===e.usuarioActivo.imagenUsuario?g.a:e.usuarioActivo.imagenUsuario,alt:"Foto gris generica"}),n.a.createElement("p",{className:"texto-tooltip"},"Perfil")),n.a.createElement("div",{className:"tooltip"},n.a.createElement(A.a,{className:"item",icon:m.d,onClick:()=>alert("Desarrollado por Juli P\xe9rez - Github: julian0394")}),n.a.createElement("p",{className:"texto-tooltip"},"Info")),n.a.createElement("div",{className:"tooltip"},n.a.createElement(A.a,{className:"item",icon:m.f,onClick:t=>{t.preventDefault(),e.setUsuarioActivo({}),e.setListaNotas([]),e.cambioRuta("login")}}),n.a.createElement("p",{className:"texto-tooltip"},"Salir"))))),o>=5&&n.a.createElement(N.a,{className:"easter-egg backdrop",open:!0},n.a.createElement("img",{className:"easter-egg",src:v.a,alt:"Imagen del perro mas lindo"})))},B=a(10);var w=e=>{const t=Object(r.useState)(""),a=Object(u.a)(t,2),o=a[0],c=a[1];return n.a.createElement("div",{className:"input-form"},n.a.createElement("input",{required:!0,type:e.tipo,name:e.nombre,value:o,placeholder:" ",onChange:t=>{const a=t.target,r=a.name,n=a.value;c(n),e.alCambiarInput(r,n)},onKeyPress:t=>{"Enter"===t.key&&e.manejoEnter()}}),n.a.createElement("label",{className:"no-seleccionable"},e.textoLabel))};a(56);const x=a(12).default;var C=e=>{const t={usuario:"",password:""},a=Object(r.useState)(t),o=Object(u.a)(a,2),c=o[0],s=o[1],p=(e,t)=>{s(a=>Object(B.a)(Object(B.a)({},a),{},{[e]:t}))},g=function(){var a=Object(l.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.post("http://localhost:3030/login",{nombreUsuario:c.usuario.trim(),passUsuario:c.password.trim()});case 3:if(r=a.sent,!e.buscarPropiedadVacia(c)){a.next=20;break}if(0!==r.data.length){a.next=10;break}return a.next=8,e.setInputIncorrecto(1);case 8:a.next=18;break;case 10:return a.next=12,e.setUsuarioActivo(r.data);case 12:return a.next=14,s(t);case 14:return a.next=16,e.setInputIncorrecto(0);case 16:return a.next=18,e.cambioRuta("notas");case 18:a.next=22;break;case 20:return a.next=22,e.setInputIncorrecto(2);case 22:a.next=27;break;case 24:a.prev=24,a.t0=a.catch(0),console.log("error J al logear",a.t0);case 27:case"end":return a.stop()}}),a,null,[[0,24]])})));return function(){return a.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Inicio de sesi\xf3n"),n.a.createElement("form",{action:"post"},n.a.createElement(w,{tipo:"text",nombre:"usuario",textoLabel:"Usuario",alCambiarInput:p,manejoEnter:g,noValidate:!0}),n.a.createElement(w,{tipo:"password",nombre:"password",textoLabel:"Contrase\xf1a",alCambiarInput:p,manejoEnter:g})),1===e.inputIncorrecto&&n.a.createElement("div",{className:"error-input"},n.a.createElement(A.a,{className:"icono-error-input",icon:m.c}),n.a.createElement("p",{className:"incorrecto"},"El usuario o contrase\xf1a no coinciden")),2===e.inputIncorrecto&&n.a.createElement("div",{className:"error-input"},n.a.createElement(A.a,{className:"icono-error-input",icon:m.c}),n.a.createElement("p",{className:"incorrecto"},"No se aceptan campos vacios")),n.a.createElement("button",{className:"boton-con-texto btn-ingreso",onClick:g},"Ingresar"),n.a.createElement("p",{className:"registroEInicio"},"No tienes una cuenta?",n.a.createElement("a",{href:"./register",onClick:t=>e.alCambiarRuta(t,"registro")},"Registrate!")))};const h=a(12).default;var D=e=>{const t={usuario:"",email:"",password:""},a=Object(r.useState)(t),o=Object(u.a)(a,2),c=o[0],s=o[1],p=(e,t)=>{s(a=>Object(B.a)(Object(B.a)({},a),{},{[e]:t}))},g=function(){var a=Object(l.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.buscarPropiedadVacia(c)){a.next=22;break}return a.next=4,h.post("http://localhost:3030/register",{nombreUsuario:c.usuario.trim(),mailUsuario:c.email.trim(),passUsuario:c.password.trim()});case 4:if("existente"!==(r=a.sent).data){a.next=10;break}return a.next=8,e.setInputIncorrecto(1);case 8:a.next=20;break;case 10:return a.next=12,e.setUsuarioActivo(r.data);case 12:return a.next=14,s(t);case 14:return a.next=16,e.setInputIncorrecto(0);case 16:return a.next=18,d();case 18:return a.next=20,e.cambioRuta("notas");case 20:a.next=24;break;case 22:return a.next=24,e.setInputIncorrecto(2);case 24:a.next=29;break;case 26:a.prev=26,a.t0=a.catch(0),console.log("error J al registrar",a.t0);case 29:case"end":return a.stop()}}),a,null,[[0,26]])})));return function(){return a.apply(this,arguments)}}(),d=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.post("http://localhost:3030/datos/editarUsuarios");case 3:return t.next=5,e.traerDatosGenerales();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error J al editar dato general",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Registro de cuenta"),n.a.createElement("form",{action:"post"},n.a.createElement(w,{tipo:"text",nombre:"usuario",textoLabel:"Usuario",alCambiarInput:p,manejoEnter:g}),n.a.createElement(w,{tipo:"email",nombre:"email",textoLabel:"Mail ficticio",alCambiarInput:p,manejoEnter:g}),n.a.createElement(w,{tipo:"password",nombre:"password",textoLabel:"Contrase\xf1a",alCambiarInput:p,manejoEnter:g})),1===e.inputIncorrecto&&n.a.createElement("div",{className:"error-input"},n.a.createElement(A.a,{className:"icono-error-input",icon:m.c}),n.a.createElement("p",{className:"incorrecto"},"El usuario o correo ya fue utilizado")),2===e.inputIncorrecto&&n.a.createElement("div",{className:"error-input"},n.a.createElement(A.a,{className:"icono-error-input",icon:m.c}),n.a.createElement("p",{className:"incorrecto"},"No se aceptan campos vacios")),n.a.createElement("button",{className:"boton-con-texto btn-ingreso",onClick:g},"Registrarse"),n.a.createElement("p",{className:"registroEInicio"},"Ya tienes una cuenta?",n.a.createElement("a",{onClick:t=>e.alCambiarRuta(t,"login"),href:"./login"},"Inicia sesi\xf3n!")))};var M=e=>{const t=Object(r.useState)(0),a=Object(u.a)(t,2),o=a[0],c=a[1],s=(t,a)=>{t.preventDefault(),c(0),e.cambioRuta(a)},A=e=>{for(const t in e)if(""===e[t])return!1;return!0},m=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.traerDatosGenerales();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(()=>{m()},[]),n.a.createElement("div",{className:"contenedor-ingreso"},"login"===e.ruta?n.a.createElement(C,{ruta:e.ruta,cambioRuta:e.cambioRuta,alCambiarRuta:s,usuarioActivo:e.usuarioActivo,setUsuarioActivo:e.setUsuarioActivo,inputIncorrecto:o,setInputIncorrecto:c,buscarPropiedadVacia:A}):"registro"===e.ruta&&n.a.createElement(D,{ruta:e.ruta,cambioRuta:e.cambioRuta,alCambiarRuta:s,setUsuarioActivo:e.setUsuarioActivo,inputIncorrecto:o,setInputIncorrecto:c,buscarPropiedadVacia:A,traerDatosGenerales:e.traerDatosGenerales}))};const O=a(12).default;var j=e=>{const t={titulo:"",contenido:""},a=Object(r.useState)(t),o=Object(u.a)(a,2),c=o[0],s=o[1],p=e=>{const t=e.target,a=t.name,r=t.value;s(e=>Object(B.a)(Object(B.a)({},e),{},{[a]:r}))},g=Object(r.useState)(0),d=Object(u.a)(g,2),b=d[0],E=d[1],v=Object(r.useState)(!1),N=Object(u.a)(v,2),f=(N[0],N[1],function(){var a=Object(l.a)(i.a.mark((function a(r){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.preventDefault(),n={tituloNota:c.titulo,cuerpoNota:c.contenido,ID_usuario:e.usuarioActivo.ID_usuario},a.next=5,O.post("http://localhost:3030/notas/nueva",n);case 5:return a.next=7,e.buscarNotasEnDB();case 7:return s(t),a.next=10,e.editarDatoNota("suma");case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log("error J al crear nota",a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}());return Object(r.useEffect)(()=>{E(c.contenido.length)},[c]),n.a.createElement("div",{className:"contenedor-nueva-nota"},n.a.createElement("form",{className:"crear-nota"},n.a.createElement("input",{onChange:p,value:c.titulo,className:"tituloNuevaNota",name:"titulo",placeholder:"T\xedtulo"}),n.a.createElement("textarea",{onChange:p,value:c.contenido,name:"contenido",placeholder:"Escriba una nota...",rows:"3"}),n.a.createElement("p",{className:"contadorPalabras ".concat(b>40&&"contador-excedido")}," ",b,"/40 "),n.a.createElement("button",{className:"btn-agregar no-seleccionable ".concat(b>40&&"btn-anulado"),type:"submit",onClick:f},n.a.createElement(A.a,{className:"btn-agregar",icon:m.e}))))};const I=a(12).default;var k=e=>{const t=function(){var t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.id;case 3:return a=t.sent,t.next=6,I.post("http://localhost:3030/notas/borrar",{ID_nota:a});case 6:return t.next=8,e.editarDatoNota("resta");case 8:return t.next=10,e.buscarNotasEnDB();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("Error J al borrar",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return n.a.createElement("div",{className:"nota"},n.a.createElement("h1",null,e.titulo),n.a.createElement("p",null,e.contenido),n.a.createElement("div",{className:"tooltip"},n.a.createElement("button",{onClick:t},n.a.createElement(A.a,{className:"btn-nota btn-borrar",icon:m.h}),n.a.createElement("p",{className:"texto-tooltip"},"Borrar"))),n.a.createElement("div",{className:"tooltip"},n.a.createElement("button",{onClick:()=>{const t={tituloNota:e.titulo,cuerpoNota:e.contenido,ID_nota:e.id};e.setNotaParaEditar(t),e.toggleModoEdicion()}},n.a.createElement(A.a,{className:"btn-nota btn-editar",icon:m.b}),n.a.createElement("p",{className:"texto-tooltip"},"Editar"))))};var H=e=>(Object(r.useEffect)(()=>{e.buscarNotasEnDB()},[]),n.a.createElement(n.a.Fragment,null,0===e.listaNotas.length?n.a.createElement("div",{className:"div-sin-notas no-seleccionable"},"No hay notas que mostrar"):n.a.createElement("div",{className:"lista-notas"},n.a.createElement("ul",null,e.listaNotas.map(t=>n.a.createElement(k,{key:t.ID_nota,id:t.ID_nota,titulo:t.tituloNota,contenido:t.cuerpoNota,setListaNotas:e.setListaNotas,buscarNotasEnDB:e.buscarNotasEnDB,toggleModoEdicion:e.toggleModoEdicion,setNotaParaEditar:e.setNotaParaEditar,editarDatoNota:e.editarDatoNota}))))));const Q=a(12).default;var G=e=>{const t=Object(r.useState)({titulo:e.notaParaEditar.tituloNota,contenido:e.notaParaEditar.cuerpoNota}),a=Object(u.a)(t,2),o=a[0],c=a[1],s=e=>{const t=e.target,a=t.name,r=t.value;c(e=>Object(B.a)(Object(B.a)({},e),{},{[a]:r}))},p=function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r={tituloNota:o.titulo,cuerpoNota:o.contenido,ID_nota:e.notaParaEditar.ID_nota},t.next=5,Q.post("http://localhost:3030/notas/editar",r);case 5:return t.next=7,e.buscarNotasEnDB();case 7:return t.next=9,e.toggleModoEdicion();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Error J al editar nota",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return n.a.createElement("div",{className:"modal"},n.a.createElement("div",{onClick:e.toggleModoEdicion,className:"overlay"}),n.a.createElement("div",{className:"contenido-modal"},n.a.createElement("h2",null,"Editar nota"),n.a.createElement(A.a,{className:"btn-cerrar-modal",icon:m.g,onClick:e.toggleModoEdicion}),n.a.createElement("form",{className:"crear-nota"},n.a.createElement("input",{onChange:s,value:o.titulo,className:"tituloNuevaNota",name:"titulo",placeholder:"T\xedtulo"}),n.a.createElement("textarea",{onChange:s,value:o.contenido,name:"contenido",placeholder:"Escriba una nota...",rows:"3"}),n.a.createElement("button",{className:"btn-agregar no-seleccionable",type:"submit",onClick:p},n.a.createElement(A.a,{className:"btn-agregar",icon:m.a})))))};const U=a(12).default;var L=e=>{const t=Object(r.useState)(!1),a=Object(u.a)(t,2),o=a[0],c=a[1],s=()=>{c(!o)},A=Object(r.useState)({}),m=Object(u.a)(A,2),p=m[0],g=m[1],d=function(){var t=Object(l.a)(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.usuarioActivo.ID_usuario;case 2:return a=t.sent,t.prev=3,t.next=6,U.post("http://localhost:3030/notas/mostrar",{ID_usuario:a});case 6:return r=t.sent,t.next=9,e.setListaNotas(r.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("error J al buscar notas",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="suma"===a?"+ 1":"- 1",t.prev=1,t.next=4,U.post("http://localhost:3030/datos/editarNotas",{operacion:r});case 4:return t.next=6,e.traerDatosGenerales();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error J al editar dato general",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return o?document.body.classList.add("sin-scroll"):document.body.classList.remove("sin-scroll"),n.a.createElement("div",{className:"contenedor-notas"},n.a.createElement(j,{setListaNotas:e.setListaNotas,usuarioActivo:e.usuarioActivo,listaNotas:e.listaNotas,buscarNotasEnDB:d,editarDatoNota:b}),n.a.createElement(H,{listaNotas:e.listaNotas,setListaNotas:e.setListaNotas,usuarioActivo:e.usuarioActivo,buscarNotasEnDB:d,setNotaParaEditar:g,toggleModoEdicion:s,modoEdicion:o,traerDatosGenerales:e.traerDatosGenerales,editarDatoNota:b}),o&&n.a.createElement(G,{toggleModoEdicion:s,notaParaEditar:p,setListaNotas:e.setListaNotas,usuarioActivo:e.usuarioActivo,listaNotas:e.listaNotas,buscarNotasEnDB:d}))},R=a(92);const J=a(12).default;var y=e=>{const t=e.usuarioActivo.imagenUsuario,a=Object(r.useState)(null),o=Object(u.a)(a,2),c=o[0],s=o[1],p=Object(r.useState)(g.a),d=Object(u.a)(p,2),b=d[0],E=d[1],v=Object(r.useState)(!1),f=Object(u.a)(v,2),B=f[0],w=f[1],x=Object(r.useState)(0),C=Object(u.a)(x,2),h=C[0],D=C[1],M=function(){var t=Object(l.a)(i.a.mark((function t(a){var r,n,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),null===c){t.next=20;break}return(r=new FormData).append("file",c),r.append("upload_preset","ar1mfxjp"),t.next=7,I(r);case 7:return n=t.sent,t.next=10,k(n);case 10:return t.next=12,Q();case 12:return o=t.sent,t.next=15,e.setUsuarioActivo(o);case 15:return D(0),t.next=18,e.cambioRuta("notas");case 18:t.next=34;break;case 20:if(b!==g.a){t.next=32;break}return t.next=23,H();case 23:return t.next=25,Q();case 25:return o=t.sent,t.next=28,e.setUsuarioActivo(o);case 28:return t.next=30,e.cambioRuta("notas");case 30:t.next=34;break;case 32:return t.next=34,e.cambioRuta("notas");case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"image"===(a=t.target.files[0]).type.substr(0,5)?(w(!1),s(a)):w(!0)}catch(r){s(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==c?((t=new FileReader).onloadend=()=>{E(t.result)},t.readAsDataURL(c)):E(g.a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("subiendo a cloudinary"),e.prev=1,e.next=4,J.post("https://api.cloudinary.com/v1_1/ronokoc/image/upload",t,{onUploadProgress:e=>{D(parseInt(Math.round(100*e.loaded/e.total)))}});case 4:return a=e.sent,console.log("listo cloudinary"),r=a.data.secure_url,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.log("Error J al subir a cloud",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.post("http://localhost:3030/usuario/cambiar-foto",{link:a,ID_usuario:e.usuarioActivo.ID_usuario});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error front J al cargar img en DB",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.post("http://localhost:3030/usuario/borrar-foto",{ID_usuario:e.usuarioActivo.ID_usuario});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error front J al cargar img en DB",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.post("http://localhost:3030/usuario/buscar",{ID_usuario:e.usuarioActivo.ID_usuario});case 3:return a=t.sent,t.abrupt("return",a.data[0]);case 7:t.prev=7,t.t0=t.catch(0),console.log("Error front J al traer usuario con nueva foto",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(()=>{j()},[c]),Object(r.useEffect)(()=>{null!==t&&E(t)},[]),n.a.createElement("div",{className:"perfil"},h>0&&n.a.createElement(N.a,{className:"backdrop",open:!0},n.a.createElement(R.a,{size:"5rem",style:{color:"#f0b000"}})),n.a.createElement("h2",{className:h?"no seleccionable":""},e.usuarioActivo.nombreUsuario),n.a.createElement("h3",null,"Activo desde: ",e.usuarioActivo.fechaRegistro),n.a.createElement("img",{className:"foto-usuario no-seleccionable",src:b,alt:"Foto de perfil"}),n.a.createElement("form",null,n.a.createElement("input",{type:"file",onChange:O,accept:"image/*",name:"input-foto",id:"input-foto"})),n.a.createElement("div",{className:"botones-foto"},n.a.createElement("div",{className:"tooltip"},n.a.createElement("label",{className:"label-foto",htmlFor:"input-foto"},n.a.createElement(A.a,{icon:m.i})),n.a.createElement("p",{className:"texto-tooltip"},"Buscar")),n.a.createElement("div",{className:"tooltip"},b!==g.a&&n.a.createElement(A.a,{className:"borrar-imagen",icon:m.g,onClick:()=>{s(null),E(g.a)}}),n.a.createElement("p",{className:"texto-tooltip"},"Eliminar"))),B&&n.a.createElement("p",{className:"incorrecto"},"Solo se aceptan im\xe1genes PNG o JPG"),n.a.createElement("div",{className:"botones-perfil"},n.a.createElement("button",{className:"boton-con-texto",onClick:M},"Guardar y volver"),n.a.createElement("button",{className:"boton-con-texto",onClick:()=>{e.cambioRuta("notas")}},"Cancelar")),n.a.createElement("div",{className:"separador"}),n.a.createElement("div",{className:"datos-generales"},n.a.createElement("h3",null,"Cantidad de usuarios registrados: ",e.datosGenerales.datosUsuarios),n.a.createElement("h3",null,"Notas en uso actualmente: ",e.datosGenerales.datosNotas)))};a(74);const Y=a(12).default;var P=()=>{const e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)("login"),s=Object(u.a)(c,2),A=s[0],m=s[1],p=e=>m(e),g=Object(r.useState)({}),d=Object(u.a)(g,2),b=d[0],E=d[1],v=Object(r.useState)({}),N=Object(u.a)(v,2),B=N[0],w=N[1],x=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("http://localhost:3030/datos/traer");case 3:t=e.sent,w(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error J al traer datos generales",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{ruta:A,cambioRuta:p,usuarioActivo:b,setUsuarioActivo:E,setListaNotas:o}),n.a.createElement("div",{className:"div-body"},"perfil"===A?n.a.createElement(y,{cambioRuta:p,usuarioActivo:b,setUsuarioActivo:E,datosGenerales:B}):"login"===A||"registro"===A?n.a.createElement(M,{ruta:A,cambioRuta:p,usuarioActivo:b,setUsuarioActivo:E,traerDatosGenerales:x,setDatosGenerales:w}):n.a.createElement(L,{usuarioActivo:b,listaNotas:a,setListaNotas:o,traerDatosGenerales:x})))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9201d21b.chunk.js.map